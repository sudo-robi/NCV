{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';import LogViewer from'./components/LogViewer';import{mockLogs}from'./mockData';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LOG_URL=process.env.REACT_APP_LOG_SERVER_URL||'http://localhost:8081/logs';// Helper to format timestamp as Day Hour:Min:Sec\nexport const formatTimestamp=ts=>{const date=new Date(ts*1000);const options={day:'numeric',month:'short',hour:'2-digit',minute:'2-digit',second:'2-digit',hour12:false};return date.toLocaleString('en-GB',options);};function App(){const[logs,setLogs]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchLogs=async()=>{try{const response=await axios.get(LOG_URL);setLogs(response.data);}catch(error){console.error('Error fetching logs:',error);// Fallback to mock data if backend is unavailable (e.g., on Vercel)\nconsole.log('Using mock data for demo purposes');setLogs(mockLogs);}finally{setLoading(false);}};fetchLogs();const interval=setInterval(fetchLogs,5000);return()=>clearInterval(interval);},[]);const getStatusColor=success=>success?'#10b981':'#ef4444';return/*#__PURE__*/_jsxs(\"div\",{className:\"ncv-dashboard\",children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"NCV Sentinel\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"system-status\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"pulse\"}),\"System Live | Monitoring Active\"]})]}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"section\",{className:\"evidence-feed\",children:[/*#__PURE__*/_jsx(LogViewer,{}),/*#__PURE__*/_jsx(\"h2\",{children:\"Active Verification Stream\"}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Initializing verification engine...\"}):logs.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty\",children:\"No challenges recorded yet. Running...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"log-list\",children:logs.map((log,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"log-card \".concat(log.success?'pass':'fail'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"log-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"proof-type\",children:log.proof_type}),/*#__PURE__*/_jsx(\"span\",{className:\"timestamp\",children:formatTimestamp(log.timestamp)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"log-body\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:log.message}),log.evidence&&/*#__PURE__*/_jsx(\"pre\",{className:\"evidence-bundle\",children:JSON.stringify(log.evidence,null,2)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"log-footer\",children:log.success?'✓ VERIFIED':'⚠ FAILURE DETECTED'})]},index))})]})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","LogViewer","mockLogs","jsx","_jsx","jsxs","_jsxs","LOG_URL","process","env","REACT_APP_LOG_SERVER_URL","formatTimestamp","ts","date","Date","options","day","month","hour","minute","second","hour12","toLocaleString","App","logs","setLogs","loading","setLoading","fetchLogs","response","get","data","error","console","log","interval","setInterval","clearInterval","getStatusColor","success","className","children","length","map","index","concat","proof_type","timestamp","message","evidence","JSON","stringify"],"sources":["/home/robi/Desktop/NCV/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport LogViewer from './components/LogViewer';\nimport { mockLogs } from './mockData';\n\nconst LOG_URL = process.env.REACT_APP_LOG_SERVER_URL || 'http://localhost:8081/logs';\n\n// Helper to format timestamp as Day Hour:Min:Sec\nexport const formatTimestamp = (ts) => {\n  const date = new Date(ts * 1000);\n  const options = {\n    day: 'numeric',\n    month: 'short',\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    hour12: false\n  };\n  return date.toLocaleString('en-GB', options);\n};\n\nfunction App() {\n  const [logs, setLogs] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchLogs = async () => {\n      try {\n        const response = await axios.get(LOG_URL);\n        setLogs(response.data);\n      } catch (error) {\n        console.error('Error fetching logs:', error);\n        // Fallback to mock data if backend is unavailable (e.g., on Vercel)\n        console.log('Using mock data for demo purposes');\n        setLogs(mockLogs);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchLogs();\n    const interval = setInterval(fetchLogs, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const getStatusColor = (success) => success ? '#10b981' : '#ef4444';\n\n  return (\n    <div className=\"ncv-dashboard\">\n      <header>\n        <h1>NCV Sentinel</h1>\n        <div className=\"system-status\">\n          <span className=\"pulse\"></span>\n          System Live | Monitoring Active\n        </div>\n      </header>\n\n      <main>\n        <section className=\"evidence-feed\">\n          <LogViewer />\n\n          <h2>Active Verification Stream</h2>\n          {loading ? (\n            <div className=\"loading\">Initializing verification engine...</div>\n          ) : logs.length === 0 ? (\n            <div className=\"empty\">No challenges recorded yet. Running...</div>\n          ) : (\n            <div className=\"log-list\">\n              {logs.map((log, index) => (\n                <div key={index} className={`log-card ${log.success ? 'pass' : 'fail'}`}>\n                  <div className=\"log-header\">\n                    <span className=\"proof-type\">{log.proof_type}</span>\n                    <span className=\"timestamp\">{formatTimestamp(log.timestamp)}</span>\n                  </div>\n                  <div className=\"log-body\">\n                    <p className=\"message\">{log.message}</p>\n                    {log.evidence && (\n                      <pre className=\"evidence-bundle\">\n                        {JSON.stringify(log.evidence, null, 2)}\n                      </pre>\n                    )}\n                  </div>\n                  <div className=\"log-footer\">\n                    {log.success ? '✓ VERIFIED' : '⚠ FAILURE DETECTED'}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </section>\n      </main>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}